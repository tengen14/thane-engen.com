{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\thane\\\\Desktop\\\\React_Redux\\\\thane-engen.com\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\thane\\\\Desktop\\\\React_Redux\\\\thane-engen.com\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\thane\\\\Desktop\\\\React_Redux\\\\thane-engen.com\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\thane\\\\Desktop\\\\React_Redux\\\\thane-engen.com\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\thane\\\\Desktop\\\\React_Redux\\\\thane-engen.com\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import SearchBar from\"./SearchBar\";import ArticleList from\"./ArticleList\";import\"../../../styles/wikipedia-viewer/wikipedia.scss\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={articles:[]};_this.onSearchSubmit=function(term){fetch(// Wikipedia API call search params with prop 'term' specifying 'what is being searched'\n\"https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrlimit=15&prop=extracts&exintro&explaintext&exsentences=1&origin=*&gsrsearch=\".concat(term)).then(function(response){return response.json();}).then(function(data){if(!data.query){// data returns empty array if search term doesn't match any article\nreturn _this.setState({articles:[]});}else{// array of data returned from API call assigned to 'articles' state key\n_this.setState({articles:data.query.pages});}});};return _this;}_createClass(App,[{key:\"render\",value:function render(){return React.createElement(\"div\",{id:\"Wikipedia\"},React.createElement(\"div\",{id:\"search-bar\"},React.createElement(\"h1\",null,\"Search below for Wikipedia articles\"),React.createElement(SearchBar,{onSubmit:this.onSearchSubmit}),React.createElement(\"a\",{id:\"random-search\"/* Wikipedia URL that returns random article */,href:\"https://en.wikipedia.org/wiki/Special:Random\",rel:\"noopener noreferrer\",target:\"_blank\"},\"or click here for a random article\")),React.createElement(ArticleList,{articles:this.state.articles}));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/Users/thane/Desktop/React_Redux/thane-engen.com/client/src/components/projects/wikipedia-viewer/WikiApp.js"],"names":["React","SearchBar","ArticleList","App","state","articles","onSearchSubmit","term","fetch","then","response","json","data","query","setState","pages","Component"],"mappings":"q7BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAO,iDAAP,C,GAEMC,CAAAA,G,+XACJC,K,CAAQ,CAAEC,QAAQ,CAAE,EAAZ,C,OAERC,c,CAAiB,SAAAC,IAAI,CAAI,CACvBC,KAAK,CACH;AADG,sKAE4JD,IAF5J,EAAL,CAIGE,IAJH,CAIQ,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAJhB,EAKGF,IALH,CAKQ,SAAAG,IAAI,CAAI,CACZ,GAAI,CAACA,IAAI,CAACC,KAAV,CAAiB,CACf;AACA,MAAO,OAAKC,QAAL,CAAc,CAAET,QAAQ,CAAE,EAAZ,CAAd,CAAP,CACD,CAHD,IAGO,CACL;AACA,MAAKS,QAAL,CAAc,CAAET,QAAQ,CAAEO,IAAI,CAACC,KAAL,CAAWE,KAAvB,CAAd,EACD,CACF,CAbH,EAcD,C,sEAEQ,CACP,MACE,4BAAK,EAAE,CAAC,WAAR,EACE,2BAAK,EAAE,CAAC,YAAR,EACE,oEADF,CAEE,oBAAC,SAAD,EAAW,QAAQ,CAAE,KAAKT,cAA1B,EAFF,CAGE,yBACE,EAAE,CAAC,eACH,+CAFF,CAGE,IAAI,CAAC,8CAHP,CAIE,GAAG,CAAC,qBAJN,CAKE,MAAM,CAAC,QALT,uCAHF,CADF,CAcE,oBAAC,WAAD,EAAa,QAAQ,CAAE,KAAKF,KAAL,CAAWC,QAAlC,EAdF,CADF,CAkBD,C,iBAvCeL,KAAK,CAACgB,S,EA0CxB,cAAeb,CAAAA,GAAf","sourcesContent":["import React from \"react\";\nimport SearchBar from \"./SearchBar\";\nimport ArticleList from \"./ArticleList\";\nimport \"../../../styles/wikipedia-viewer/wikipedia.scss\";\n\nclass App extends React.Component {\n  state = { articles: [] };\n\n  onSearchSubmit = term => {\n    fetch(\n      // Wikipedia API call search params with prop 'term' specifying 'what is being searched'\n      `https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrlimit=15&prop=extracts&exintro&explaintext&exsentences=1&origin=*&gsrsearch=${term}`\n    )\n      .then(response => response.json())\n      .then(data => {\n        if (!data.query) {\n          // data returns empty array if search term doesn't match any article\n          return this.setState({ articles: [] });\n        } else {\n          // array of data returned from API call assigned to 'articles' state key\n          this.setState({ articles: data.query.pages });\n        }\n      });\n  };\n\n  render() {\n    return (\n      <div id=\"Wikipedia\">\n        <div id=\"search-bar\">\n          <h1>Search below for Wikipedia articles</h1>\n          <SearchBar onSubmit={this.onSearchSubmit} />\n          <a\n            id=\"random-search\"\n            /* Wikipedia URL that returns random article */\n            href=\"https://en.wikipedia.org/wiki/Special:Random\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            or click here for a random article\n          </a>\n        </div>\n        <ArticleList articles={this.state.articles} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}